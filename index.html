<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>AbdulaClick</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* ...–≤–µ—Å—å CSS –æ—Å—Ç–∞—ë—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π... */
  </style>
</head>
<body>
  <div class="container">
    <h1>AbdulaClick</h1>
    <div class="balance-box">
      <img src="coin.png" alt="Coin"> <span id="balance">0</span>
    </div>
    <button id="clickButton">
      <img src="bearded.png" alt="Click Icon" class="click-icon" />
    </button>
    <br />
    <button id="openShop">üõí –ú–∞–≥–∞–∑–∏–Ω</button>
    <button id="openInventory">üì¶ –ü—Ä–∏–æ–±—Ä–µ—Ç—ë–Ω–Ω—ã–µ</button>
    <button id="openAchievements">üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</button>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞: –ú–∞–≥–∞–∑–∏–Ω, –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å, –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è -->
  <div id="shopModal" class="modal hidden"> ... </div>
  <div id="inventoryModal" class="modal hidden"> ... </div>
  <div id="achievementsModal" class="modal hidden">
    <div class="modal-content">
      <button class="back" id="closeAchievements">‚Üê –ù–∞–∑–∞–¥</button>
      <h2>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2>
      <ul id="achievementList" style="text-align:left"></ul>
    </div>
  </div>

  <script>
    let balance = parseInt(localStorage.getItem("balance")) || 0;
    let boost = parseInt(localStorage.getItem("boost")) || 1;
    let autoclick = parseInt(localStorage.getItem("autoclick")) || 0;
    let purchasedItems = JSON.parse(localStorage.getItem("purchasedItems")) || {};
    let achievements = JSON.parse(localStorage.getItem("achievements")) || {};
    let totalClicks = parseInt(localStorage.getItem("totalClicks")) || 0;

    const balanceElem = document.getElementById("balance");
    const clickBtn = document.getElementById("clickButton");
    const audio = new Audio("click.mp3");

    function updateBalance() {
      balanceElem.innerText = balance;
      localStorage.setItem("balance", balance);
      localStorage.setItem("boost", boost);
      localStorage.setItem("autoclick", autoclick);
      localStorage.setItem("purchasedItems", JSON.stringify(purchasedItems));
      localStorage.setItem("achievements", JSON.stringify(achievements));
      localStorage.setItem("totalClicks", totalClicks);
      checkAchievements();
    }

    function checkAchievements() {
      const list = document.getElementById("achievementList");
      list.innerHTML = "";
      const achievementDefs = [
        { id: "click100", label: "–°–¥–µ–ª–∞–π 100 –∫–ª–∏–∫–æ–≤", condition: () => totalClicks >= 100 },
        { id: "balance1000", label: "–ù–∞–∫–æ–ø–∏ 1000 –º–æ–Ω–µ—Ç", condition: () => balance >= 1000 },
        { id: "boost10", label: "–ü–æ–ª—É—á–∏ 10+ –∫ –±—É—Å—Ç—É", condition: () => boost >= 10 },
        { id: "autoclick50", label: "–ù–∞–π–¥–∏ 50 –∞–≤—Ç–æ–∫–ª–∏–∫–æ–≤", condition: () => autoclick >= 50 },
      ];
      achievementDefs.forEach(ach => {
        if (ach.condition()) achievements[ach.id] = true;
        const li = document.createElement("li");
        li.textContent = `${ach.label} - ${achievements[ach.id] ? "‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ" : "‚ùå –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ"}`;
        list.appendChild(li);
      });
    }

    clickBtn.addEventListener("click", () => {
      balance += boost;
      totalClicks++;
      updateBalance();
      audio.currentTime = 0;
      audio.play();
    });

    // –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ createShopItems, showInventory, –∞–≤—Ç–æ–∫–ª–∏–∫, –æ—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ –æ–∫–æ–Ω ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    document.getElementById("openAchievements").addEventListener("click", () => {
      document.getElementById("achievementsModal").classList.remove("hidden");
      checkAchievements();
    });

    document.getElementById("closeAchievements").addEventListener("click", () => {
      document.getElementById("achievementsModal").classList.add("hidden");
    });

    if (autoclick > 0) {
      setInterval(() => {
        balance += autoclick;
        updateBalance();
      }, 1000);
    }

    updateBalance();
  </script>
</body>
</html>
